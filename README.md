# ロジスティック回帰分析

このプロジェクトでは、ロジスティック回帰を用いてタイタニック号の乗客データから生存に関わる要素の重要度を測る。

## 分析手順

1. **データの前処理**
   - 欠損値の処理: 年齢(`Age`)と運賃(`Fare`)の欠損値をそれぞれの中央値で補完。
   - カテゴリカル変数の変換: 性別(`Sex`)を数値にエンコーディングし、`male`を0、`female`を1として処理。

2. **特徴量選択**
   - 分析に使用する特徴量: `Pclass`, `Sex`, `Age`, `Fare`

3. **モデルの構築と訓練**
   - `sklearn`ライブラリの`LogisticRegression`クラスを使用してモデルを構築。
   - データを訓練セットとテストセットに分割し、モデルを訓練。

4. **モデルの評価**
   - 精度(`Accuracy`)、混同行列(`Confusion Matrix`)、分類レポート(`Classification Report`)を用いてモデルの性能を評価。

5. **特徴量の重要度分析**
   - モデルの係数を解析し、各特徴量が生存予測に与える影響を評価。

## 使用技術

- Python
- Pandas
- Matplotlib
- Seaborn
- scikit-learn

## データセット
このプロジェクトでは、`train.csv`のみを使用しています。`test.csv`は分析には含まれておらず、モデルの訓練と評価は`train.csv`に分割されたデータを使用して行われます。

## `requirements.txt`の使い方

プロジェクトで使用する依存ライブラリをインストールするために、`requirements.txt`ファイルが含まれています。このファイルにリストされたライブラリをインストールするには、以下のコマンドを実行してください：

```bash
pip install -r requirements.txt
```
# ロジスティック回帰モデルの数理的背景

## モデルの概要

ロジスティック回帰は、与えられた入力（特徴量）に基づいて、二値（バイナリ）アウトカムを予測するための統計的モデルです。このモデルは、アウトカムが発生する確率を推定するために使用され、特に分類問題において広く利用されています。

## 数理モデル

ロジスティック回帰モデルでは、応答変数 \( Y \)（生存または非生存など）が二項分布に従うと仮定し、次のような形式のロジスティック関数（シグモイド関数）を使用して確率をモデル化します。

\[ P(Y=1) = \frac{1}{1 + e^{-(\beta_0 + \beta_1X_1 + \dots + \beta_kX_k)}} \]

ここで、
- \( P(Y=1) \) は、与えられた入力値に対するクラス「1」の確率を表します。
- \( X_1, X_2, \dots, X_k \) は特徴量です。
- \( \beta_0, \beta_1, \dots, \beta_k \) はモデルパラメータです。

## モデルの推定

ロジスティック回帰モデルのパラメータは、最尤法（Maximum Likelihood Estimation, MLE）によって推定されます。この方法では、観測されたデータの尤度を最大化するパラメータを見つけることが目的です。

## モデルの評価

モデルの性能は、主に次のメトリクスで評価されます。

- **精度 (Accuracy)**: 全体の予測の正確さを測定します。
- **混同行列 (Confusion Matrix)**: 正解と予測がどのように交差するかを示し、TP（真の陽性）、TN（真の陰性）、FP（偽の陽性）、FN（偽の陰性）を提供します。
- **分類レポート (Classification Report)**: 各クラスの精度、再現率、F1スコアを含みます。

## 特徴量の重要度

モデルの各係数 \( \beta \) の値は、その特徴量が目的変数に与える影響の強さと方向を示します。正の係数は、その特徴量がアウトカム「1」の確率を増加させることを意味し、負の係数は逆を意味します。

この情報を基に、データの理解と予測モデルの改善を図ることができます。

